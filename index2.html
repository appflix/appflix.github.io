<!DOCTYPE html>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÄÆ¡n Äá»“ng TÃ¬nh á»¦ng Há»™ Kiáº¿n Nghá»‹</title>
    <style>

        h1 {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
        }
        h2 {
            font-size: 20px;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        p {
            margin: 10px 0;
        }
        .underline {
            text-decoration: underline;
        }
        .indent {
            margin-left: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        .center {
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="doc-content" style="width: 100%; max-width: 800px; margin: auto;">
    <h1>ÄÆ N Äá»’NG TÃŒNH á»¦NG Há»˜ KIáº¾N NGHá»Š</h1>
    <h2>V/v: BÃƒI NHIá»†M BAN QUáº¢N TRá»Š ÄÆ¯Æ NG THá»œI Cá»¤M CHUNG CÆ¯ THE VISTA AN PHÃš -- QUáº¬N 2</h2>

    <p>Ban Quáº£n Trá»‹ ('BQT') The Vista An PhÃº Quáº­n 2 cÃ³ nhá»¯ng dáº¥u hiá»‡u sai pháº¡m trong quÃ¡ trÃ¬nh hoáº¡t Ä‘á»™ng, gÃ¢y áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n quyá»n lá»£i CÆ° dÃ¢n The Vista An PhÃº Quáº­n 2, cá»¥ thá»ƒ nhÆ° sau:</p>

    <h2>I. HÃ ng loáº¡t vi pháº¡m vá» tÃ i chÃ­nh vÃ  quy cháº¿ hoáº¡t Ä‘á»™ng cá»§a BQT:</h2>
    <p>1. ÄÆ°a cÃ¡c thÃ´ng tin sai lá»‡ch trong HNCC 2024</p>
    <p class="indent">- TrÆ°á»ng há»£p thay há»‡ thá»‘ng bÃ£i giá»¯ xe Control Parking : Ká»· NguyÃªn SÃ¡ng Táº¡o Ä‘Ã£ nhiá»u láº§n giáº£i trÃ¬nh pháº§n má»m khÃ´ng bá»‹ lá»—i vÃ  cáº§n kiá»ƒm tra láº¡i má»™t sá»‘ váº¥n Ä‘á» nhÆ° Ä‘áº§y á»• Ä‘Ä©a vÃ  tiáº¿n hÃ nh backup dá»¯ liá»‡u, giáº£i phÃ³ng á»• Ä‘Ä©a vÃ  cáº­p nháº­t láº¡i pháº§n má»m . Ká»· NguyÃªn SÃ¡ng táº¡o</p>
    <p>2. Tá»± Ã½ Ä‘iá»u chá»‰nh ná»™i dung trong phiáº¿u báº§u á»Ÿ HNCC 2024</p>
    <p>2. BQT cá»‘ tÃ¬nh khÃ´ng kiá»ƒm tra váº¥n Ä‘á» cÆ° dÃ¢n Ä‘Æ°a lÃªn vá» má»©c tÄƒng PhÃ­ Quáº£n LÃ½ 'PQL' khÃ´ng há»£p lá»‡, vÃ  khÃ´ng Ä‘Æ°a váº¥n Ä‘á» nÃ y vÃ o biá»ƒu quyáº¿t trong Há»™i nghá»‹ NhÃ  Chung cÆ° 'HNNCC' nÄƒm 2023 dáº«n Ä‘áº¿n phÃ­ quáº£n lÃ½ chÆ°a Ä‘Æ°á»£c biá»ƒu quyáº¿t Äiá»u nÃ y vi pháº¡m phÃ¡p luáº­t, Ä‘Ã£ quy Ä‘á»‹nh trong:</p>
    <p class="indent">â— Äiá»ƒm c, khoáº£n 4, Ä‘iá»u 66, nghá»‹ Ä‘á»‹nh 139/2017/NÄ-CP quy Ä‘á»‹nh "pháº¡t tiá»n tá»« 50.000.000 - 60.000.000 vnd Ä‘á»‘i vá»›i BQT nhÃ  chung cÆ° cÃ³ má»™t trong cÃ¡c hÃ nh vi sau: ... Tá»± quyáº¿t Ä‘á»‹nh má»©c giÃ¡ dá»‹ch vá»¥ quáº£n lÃ½ váº­n hÃ nh nhÃ  chung cÆ° mÃ  khÃ´ng thÃ´ng qua HNNCC".</p>
    <p class="indent">â— Äiá»ƒm c, khoáº£n 1, Ä‘iá»u 104 Luáº­t nhÃ  á»Ÿ 2014: "Äá» nghá»‹ HNNCC thÃ´ng qua má»©c giÃ¡ dá»‹ch vá»¥ quáº£n lÃ½ váº­n hÃ nh nhÃ  chung cÆ°".</p>
    <p>3. Gáº§n 10 tá»· vnd PQL bá»‹ sá»­ dá»¥ng sai má»¥c Ä‘Ã­ch vÃ o cÃ´ng tÃ¡c báº£o trÃ¬ máº·c dÃ¹ khÃ´ng cÃ³ sá»± cháº¥p thuáº­n cá»§a cÆ° dÃ¢n (sá»‘ liá»‡u Ä‘Æ°á»£c Savills cung cáº¥p vÃ o thÃ¡ng 10/2020), vi pháº¡m khoáº£n 1 Ä‘iá»u 10 thÃ´ng tÆ° 02/2016/TT-BXD quy Ä‘á»‹nh vá» cÃ¡c cÃ´ng viá»‡c thuá»™c pháº¡m vi cá»§a quá»¹ quáº£n lÃ½.</p>
    <p>5. Quy cháº¿ hoáº¡t Ä‘á»™ng quy cháº¿ tÃ i chÃ­nh, sá»• tay cÆ° dÃ¢n 2024 dÃ¹ Ä‘Ã£ Ä‘Æ°á»£c HNCC thÃ´ng qua nhÆ°ng khÃ´ng Ä‘Æ°á»£c cÃ´ng bá»‘ trÃªn báº¥t kÃ¬ phÆ°Æ¡ng tiá»‡n truyá»n thÃ´ng nÃ o á»Ÿ The Vista An PhÃº, bao gá»“m báº£ng thÃ´ng bÃ¡o á»Ÿ cÃ¡c sáº£nh, cÃ¡c thÃ´ng cÃ¡o gá»­i qua email tá»« trÆ°á»›c Ä‘áº¿n nay, cÅ©ng nhÆ° trong group Facebook cá»§a BQT/BQL. Äáº¡i diá»‡n cÆ° dÃ¢n chÃ­nh thá»©c yÃªu cáº§u cÃ´ng bá»‘ cÃ¡c quy cháº¿ nÃ y (email ngÃ y 03/11/2020 gá»­i tá»›i email cá»§a BQT: <span class="underline">bqt.masteri.thaodien@gmail.com</span>) nhÆ°ng BQT cá»‘ tÃ¬nh khÃ´ng há»“i Ã¢m vÃ  khÃ´ng cung cáº¥p cÃ¡c chá»©ng tá»« yÃªu cáº§u, nhÆ° váº­y BQT Ä‘Ã£ <strong>vi pháº¡m khoáº£n 1 Ä‘iá»u 24 cá»§a thÃ´ng tÆ° 02/2016/TT-BXD</strong> quy Ä‘á»‹nh pháº£i "... cÃ´ng khai, minh báº¡ch, tuÃ¢n thá»§ quy Ä‘á»‹nh cá»§a Quy cháº¿ nÃ y...".</p>

    <h2>II. BQT thiáº¿u chuyÃªn mÃ´n vÃ  liÃªm chÃ­nh:</h2>
    <p>1. DÃ¹ng quyá»n BQT nhiá»u láº§n gÃ¢y chia ráº½, chá»­i bá»›i cÆ° dÃ¢n , cáº£n chá»Ÿ cÆ° dÃ¢n thá»±c hiá»‡n quyá»n giÃ¡m sÃ¡t hoáº¡t Ä‘á»™nt cá»§a BQL vÃ  BQT</p>
    <p>2. Trong BQT cÃ³ 02 phÃ³ ban Ä‘á»u lÃ  Luáº­t SÆ° nhÆ°ng Ä‘Ã£ khÃ´ng sá»­ dá»¥ng Ä‘Ãºng kiáº¿n thá»©c hiá»ƒu biáº¿t vá» luáº­t vÃ  vai trÃ² lÃ  Ban Quáº£n Trá»‹ - Ä‘áº¡i diá»‡n cho quyá»n lá»£i cá»§a CÆ° dÃ¢n Ä‘á»ƒ thÃ¡o gá»¡ cÃ¡c váº¥n Ä‘á» liÃªn quan thÃ´ng tÆ° 02/2016/TT-BXD, dáº«n Ä‘áº¿n trá»… nÃ£i trong viá»‡c yÃªu cáº§u UBND tá»• chá»©c HNNCC báº¥t thÆ°á»ng theo Ä‘iá»ƒm a, khoáº£n 5, Ä‘iá»u 14 cá»§a thÃ´ng tÆ° 02/2016/TT-BXD; viá»‡c cá»‘ tÃ¬nh cháº­m trá»… nÃ y Ä‘Ã£ kÃ©o dÃ i tá»« thÃ¡ng 07/2019 Ä‘áº¿n thÃ¡ng 10/2020 (15 thÃ¡ng) gÃ¢y cáº£n trá»Ÿ viá»‡c nháº­n quá»¹ báº£o trÃ¬ vÃ  lÃ m <strong>tá»•n tháº¥t</strong> lÃ£i suáº¥t tiá»n gá»­i cá»§a cÆ° dÃ¢n, Æ°á»›c tÃ­nh tá»•n tháº¥t 405 triá»‡u Ä‘á»“ng má»—i thÃ¡ng (dá»±a theo Æ°á»›c tÃ­nh trong vÄƒn báº£n sá»‘ 0104/2019-BQT cá»§a chÃ­nh BQT phÃ¡t hÃ nh).</p>

    <h2>III. Thiáº¿u trÃ¡ch nhiá»‡m vÃ  thiáº¿u minh báº¡ch trong giao tiáº¿p vá»›i cÆ° dÃ¢n:</h2>
    <p>1. Táº¥t cáº£ cÃ¡c biÃªn báº£n há»p Ä‘á»‹nh ká»³ cá»§a BQT Ä‘á»u khÃ´ng Ä‘Æ°á»£c cÃ´ng bá»‘ cho cÆ° dÃ¢n, Ä‘iá»u nÃ y vi pháº¡m Ä‘iá»u IV.7 cá»§a quy cháº¿ hoáº¡t Ä‘á»™ng cá»§a BQT yÃªu cáº§u "Ngay sau khi Ä‘Æ°á»£c phÃª chuáº©n, cÃ¡c quyáº¿t Ä‘á»‹nh áº£nh hÆ°á»Ÿng Ä‘áº¿n lá»£i Ã­ch cá»§a cÃ¡c chá»§ sá»Ÿ há»¯u pháº£i Ä‘Æ°á»£c cÃ´ng bá»‘ trÃªn báº£ng thÃ´ng bÃ¡o Ä‘á»ƒ táº¥t cáº£ cÆ° dÃ¢n Ä‘Æ°á»£c biáº¿t".</p>
    <p>2. BQT khÃ´ng tráº£ lá»i cÃ¡c cháº¥t váº¥n quan trá»ng cá»§a cÆ° dÃ¢n (khÃ´ng bÃ¡o cÃ¡o tÃ i chÃ­nh hÃ ng thÃ¡ng tá»« 02 nÄƒm khi BQT thÃ nh láº­p, quy cháº¿ hoáº¡t Ä‘á»™ng cá»§a BQT khÃ´ng cung cáº¥p cho cÆ° dÃ¢n), vÃ  nhiá»u láº§n trÃ¬ hoÃ£n, trá»‘n trÃ¡nh Ä‘á»‘i thoáº¡i trá»±c tiáº¿p, Ä‘iá»u nÃ y vi pháº¡m Ä‘iá»u II.1.e quy cháº¿ hoáº¡t Ä‘á»™ng lÃ : BQT pháº£i "chá»‹u trÃ¡ch nhiá»‡m trÆ°á»›c cÃ¡c chá»§ sá»Ÿ há»¯u nhÃ  chung cÆ° vá» nhiá»‡m vá»¥ Ä‘Æ°á»£c giao, cháº¥p hÃ nh Ä‘Ãºng quy cháº¿ hoáº¡t Ä‘á»™ng, quy cháº¿ thu chi tÃ i chÃ­nh cá»§a BQT".</p>
    <p>3. ThÃ¡i Ä‘á»™ khÃ´ng Ä‘Ãºng má»±c, há»‘ng hÃ¡ch cá»§a má»™t sá»‘ thÃ nh viÃªn BQT mÃ  ráº¥t nhiá»u cÆ° dÃ¢n Ä‘Ã£ pháº£n áº£nh trong Group cÆ° dÃ¢n The Vista An PhÃº lÃ  cÃ¡n bá»™ vÃ  thÃ nh viÃªn BQT cháº³ng nhá»¯ng khÃ´ng láº¯ng nghe, giáº£i quyáº¿t giáº£i Ä‘Ã¡p khÃºc máº¯c, báº£o vá»‡ quyá»n lá»£i chÃ­nh Ä‘Ã¡ng cá»§a cÆ° dÃ¢n mÃ  cÃ²n nhiá»u láº§n Ä‘e doáº¡ tá»± do ngÃ´n luáº­n cá»§a cÆ° dÃ¢n. HÆ¡n ná»¯a, thÃ nh viÃªn BQT cÃ²n thiáº¿u chuáº©n má»±c trong giao tiáº¿p, cá»¥ thá»ƒ nhÆ°: BQT chá»­i cÆ° dÃ¢n nhiá»u láº§n khi cÆ° dÃ¢n ghi Ã¢m vÃ  phÃ¡t cuá»™c há»p háº±ng tuáº§n (ngÃ y 17/10/2020) nhÆ°ng nháº¥t quyáº¿t khÃ´ng xin lá»—i; BQT tháº¥t há»©a trong viá»‡c tÃ¡i tá»• chá»©c gáº·p máº·t cÆ° dÃ¢n vÃ  tÃ¬m cÃ¡ch kÃ©o dÃ i, trÃ¬ hoÃ£n thá»i gian há»p Ä‘á»‘i thoáº¡i vá»›i CÆ° dÃ¢n.</p>
    <p>4. VÃ o thÃ¡ng 02.2025, Trong cuá»™c há»p BQT yÃªu cáº§u má»™t cÃ¡ch vÃ´ lÃ½ <strong>cáº¥m</strong> thÃ nh viÃªn BQT tiáº¿t lá»™ cÃ¡c thÃ´ng tin liÃªn quan Ä‘áº¿n "hoáº¡t Ä‘á»™ng cá»§a BQT, vÃ  giá»¯a BQT vÃ  BQL" vÃ  cÃ¡c thÃ´ng tin nÃ y, Ä‘Æ°á»£c Ä‘Æ¡n phÆ°Æ¡ng Ä‘á»‹nh nghÄ©a lÃ  "thÃ´ng tin máº­t", Ä‘i ngÆ°á»£c láº¡i vá»›i Ä‘iá»u IV.7 cá»§a quy cháº¿ hoáº¡t Ä‘á»™ng cá»§a BQT quy Ä‘á»‹nh ráº±ng "Ngay sau khi Ä‘Æ°á»£c phÃª chuáº©n, cÃ¡c quyáº¿t Ä‘á»‹nh áº£nh hÆ°á»Ÿng Ä‘áº¿n lá»£i Ã­ch cá»§a cÃ¡c chá»§ sá»Ÿ há»¯u pháº£i Ä‘Æ°á»£c cÃ´ng bá»‘ trÃªn báº£ng thÃ´ng bÃ¡o Ä‘á»ƒ táº¥t cáº£ cÆ° dÃ¢n Ä‘Æ°á»£c biáº¿t", Ä‘á»“ng nghÄ©a vá»›i cÃ¡c thÃ´ng tin nÃ y pháº£i Ä‘Æ°á»£c minh báº¡ch, cÃ´ng khai.</p>
    <p>TrÆ°á»Ÿng BQT Ä‘Æ°Æ¡ng thá»i lÃºc báº¥y giá» (Ã”ng Tráº§n Quá»‘c LÆ°u) Ä‘Ã£ khÃ´ng Ä‘á»“ng Ã½ vá»›i vÄƒn báº£n nÃ y, nÃªu ráº¥t rÃµ lÃ  quy Ä‘á»‹nh nÃ y khÃ´ng cÃ³ trong cÆ¡ cháº¿ nÃªn pháº£i Ä‘á»£i cÆ° dÃ¢n biá»ƒu quyáº¿t vÃ  thÃ´ng qua táº¡i HNNCC. Tuy nhiÃªn vÄƒn báº£n váº«n Ä‘Æ°á»£c BQT Ä‘Æ¡n phÆ°Æ¡ng thÃ´ng qua lÃ m dáº¥y lÃªn ná»—i lo cÃ ng lá»›n hÆ¡n vá» sá»± minh báº¡ch thÃ´ng tin, hÃ nh vi nÃ y mÃ¢u thuáº«n nghiÃªm trá»ng Ä‘á»‘i vá»›i Ä‘iá»u IV.7 cá»§a quy cháº¿ hoáº¡t Ä‘á»™ng cá»§a BQT.</p>

    <p>Dá»±a vÃ o cÃ¡c ná»™i dung nÃªu trÃªn, tÃ´i nháº­n tháº¥y BQT khÃ´ng lÃ m Ä‘Ãºng nghÄ©a vá»¥ vÃ  trÃ¡ch nhiá»‡m Ä‘Æ°á»£c giao, vÃ  khÃ´ng Ä‘á»§ tÆ° cÃ¡ch tiáº¿p tá»¥c nhiá»‡m ká»³. Táº­p thá»ƒ cÆ° dÃ¢n Chung cÆ° The Vista An PhÃº kiáº¿n nghá»‹ <strong>bÃ£i nhiá»‡m toÃ n bá»™ BQT</strong> vÃ  báº§u láº¡i BQT má»›i. ChÃºng tÃ´i lÃ  nhá»¯ng Ä‘áº¡i diá»‡n chá»§ sá»Ÿ há»¯u kÃ½ tÃªn dÆ°á»›i Ä‘Ã¢y Ä‘á»ƒ nhá» sá»± can thiá»‡p cá»§a chÃ­nh quyá»n Ä‘á»ƒ thá»±c thi quy Ä‘á»‹nh táº¡i má»¥c 6 Ä‘iá»u 15 cá»§a thÃ´ng tÆ° 02/2016/TT-BXD hÆ°á»›ng dáº«n vá» viá»‡c "...bÃ£i miá»…n má»™t, má»™t sá»‘ hoáº·c toÃ n bá»™ thÃ nh viÃªn Ban quáº£n trá»‹ nhÃ  chung cÆ° vÃ  báº§u thay tháº¿ cÃ¡c thÃ nh viÃªn khÃ¡c theo quy Ä‘á»‹nh táº¡i Khoáº£n 2 hoáº·c Khoáº£n 3 vÃ  Khoáº£n 5 Äiá»u nÃ y; náº¿u ngÆ°á»i cÃ³ hÃ nh vi vi pháº¡m thuá»™c diá»‡n bá»‹ truy cá»©u trÃ¡ch nhiá»‡m hÃ¬nh sá»± thÃ¬ há»™i nghá»‹ nhÃ  chung cÆ° thÃ´ng qua quyáº¿t Ä‘á»‹nh Ä‘á» nghá»‹ cÆ¡ quan cÃ³ tháº©m quyá»n xem xÃ©t, xá»­ lÃ½ trÃ¡ch nhiá»‡m hÃ¬nh sá»± theo quy Ä‘á»‹nh cá»§a phÃ¡p luáº­t. Trong trÆ°á»ng há»£p cáº§n thiáº¿t, há»™i nghá»‹ nhÃ  chung cÆ° quyáº¿t Ä‘á»‹nh láº­p tá»• kiá»ƒm tra hoáº·c thuÃª Ä‘Æ¡n vá»‹ cÃ³ chuyÃªn mÃ´n Ä‘á»ƒ kiá»ƒm tra sá»• sÃ¡ch vÃ  viá»‡c thu, chi tÃ i chÃ­nh cá»§a Ban quáº£n trá»‹ nhÃ  chung cÆ°".</p>


    <p class="center">Sau khi kÃ½ vui lÃ²ng gá»­i vá» má»™t trong cÃ¡c há»™p thÆ° sau:</p>
    <p class="center">T1.B29.07 & 29.02 T2.A34.03 T3.A35.10 T4.B20.03 T5.A33.12 T1.B31.08 T2.B19.08, T4.A12.04 T5.B33.07</p>
</div>
</body>
</html>
<!DOCTYPE html>
<!DOCTYPE html>
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biá»ƒu máº«u</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <style>
        body { font-family: 'Roboto', sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }
        .content { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .form-container {
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center;
            width: 100%;
            max-width: 600px; 
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .form-container label {
            font-size: 16px;
            font-weight: 500;
            margin-top: 10px;
            text-align: left;
            width: 100%;
            max-width: 400px;
        }

        .form-container input {
            width: 100%;
            max-width: 400px;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            font-size: 16px;
        }

        button {
            width: 100%;
            max-width: 200px;
            padding: 10px;
            margin-top: 15px;
            border: none;
            border-radius: 8px;
            background-color: #673ab7;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        button:hover {
            background-color: #311b92;
        }

        canvas { 
            border: 1px solid black; 
            margin-top: 10px; 
            display: block; 
            width: 100%; 
            height: auto; 
            max-width: 500px; 
            touch-action: none; /* Evita el desplazamiento en dispositivos tÃ¡ctiles */
        }

        /* Estilos para el modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .modal-content h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #673ab7;
        }

        .modal-content button {
            background-color: #673ab7;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        .modal-content button:hover {
            background-color: #311b92;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <label>MÃ£ cÄƒn há»™:</label>
        <input type="text" id="apartmentCode" required>

        <label>Chá»§ sá»Ÿ há»¯u:</label>
        <input type="text" id="owner" required>

        <label>Äáº¡i diá»‡n Chá»§ sá»Ÿ há»¯u Ä‘Ã£ Ä‘Æ°á»£c á»§y quyá»n (náº¿u cÃ³):</label>
        <input type="text" id="representative">

        <label>Äiá»‡n thoáº¡i:</label>
        <input type="tel" id="phone" required>



        <canvas id="signature" width="500" height="200"></canvas>
        <button id="clearButton">XÃ³a chá»¯ kÃ½</button>
        <button id="submit">Gá»­i</button>
    </div>

    <!-- Modal de agradecimiento -->
    <div id="thankYouModal" class="modal">
        <div class="modal-content">
            <h2>Cáº£m Æ¡n báº¡n Ä‘Ã£ gá»­i biá»ƒu máº«u!</h2>
            <button onclick="closeModal()">Nháº­p cÃ¢u tráº£ lá»i khÃ¡c</button>
        </div>
    </div>

    <script>




       // Generar un UUID Ãºnico
       var uuid = crypto.randomUUID();

let apartamentosRegistrados = [];

// Obtener los cÃ³digos de Google Sheets
document.getElementById("apartmentCode").disabled = true;

fetch("https://script.google.com/macros/s/AKfycbwLHbrh3_H1Eb28RRxyHS8dWOd5qGAUHhMDvS_ZP2GXKf7JW_4eBz4gCW-_nD1zX96h/exec")
    .then(response => response.json())
    .then(data => {
        apartamentosRegistrados = data.map(codigo => codigo?.toString().trim().toUpperCase());
    

        document.getElementById("apartmentCode").disabled = false; // Habilitar despuÃ©s de cargar
    })
    .catch(error => console.error("Error al obtener los cÃ³digos:", error));

// Validar el cÃ³digo cuando el usuario escribe
document.getElementById("apartmentCode").addEventListener("blur", function () {
    const codigoIngresado = this.value.trim().toUpperCase();
    
    if (apartamentosRegistrados.includes(codigoIngresado)) {
        alert("âš ï¸ MÃ£ cÄƒn há»™ nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½. Vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i qua Zalo hoáº·c email.");
        this.value = ""; // Limpiar el campo
        this.focus(); // Mantener el cursor en el campo
    }
});

// Evitar envÃ­o si el cÃ³digo estÃ¡ repetido
document.getElementById("submit").addEventListener("click", function (event) {
    const codigoIngresado = document.getElementById("apartmentCode").value.trim().toUpperCase();
    
    if (apartamentosRegistrados.includes(codigoIngresado)) {
        alert("âš ï¸ MÃ£ cÄƒn há»™ nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½. Vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i qua Zalo hoáº·c email.");
        event.preventDefault(); // Evitar que se envÃ­e el formulario
    }
});







        var canvas = document.getElementById("signature");
        var ctx = canvas.getContext("2d");
        var drawing = false;
        var savedCanvasData; // Variable para guardar el estado del canvas
    
        // Ajustar el tamaÃ±o del canvas para dispositivos mÃ³viles
        function resizeCanvas() {
            var maxWidth = 500; // Ancho mÃ¡ximo del canvas
            var width = Math.min(window.innerWidth * 0.9, maxWidth); // 90% del ancho de la pantalla o el mÃ¡ximo
            canvas.width = width;
            canvas.height = width * 0.4; // Mantener una relaciÃ³n de aspecto
    
            // Restaurar el contenido del canvas si hay datos guardados
            if (savedCanvasData) {
                var img = new Image();
                img.src = savedCanvasData;
                img.onload = function () {
                    ctx.drawImage(img, 0, 0);
                };
            }
        }
    
        // Guardar el estado del canvas antes de que el teclado se abra o se cierre
        function saveCanvasState() {
            savedCanvasData = canvas.toDataURL(); // Guardar la imagen del canvas como una URL de datos
        }
    
        // Restaurar el estado del canvas despuÃ©s de que el teclado se cierre
        function restoreCanvasState() {
            if (savedCanvasData) {
                var img = new Image();
                img.src = savedCanvasData;
                img.onload = function () {
                    ctx.drawImage(img, 0, 0);
                };
            }
        }
    
        // Evento de redimensionamiento de la ventana
        window.addEventListener("resize", function () {
            saveCanvasState(); // Guardar el estado del canvas antes de redimensionar
            resizeCanvas(); // Redimensionar el canvas
            restoreCanvasState(); // Restaurar el estado del canvas despuÃ©s de redimensionar
        });
    
        resizeCanvas(); // Ajustar el tamaÃ±o inicial
    
        // Obtener la posiciÃ³n del canvas en la pantalla
        function getCanvasPosition() {
            var rect = canvas.getBoundingClientRect();
            return {
                offsetX: rect.left,
                offsetY: rect.top
            };
        }
    
        // Eventos de ratÃ³n
        canvas.addEventListener("mousedown", startDrawing);
        canvas.addEventListener("mouseup", stopDrawing);
        canvas.addEventListener("mousemove", draw);
    
        // Eventos tÃ¡ctiles
        canvas.addEventListener("touchstart", startDrawingTouch);
        canvas.addEventListener("touchend", stopDrawingTouch);
        canvas.addEventListener("touchmove", drawTouch);
    
        function startDrawing(e) {
            drawing = true;
            ctx.beginPath();
            draw(e);
        }
    
        function startDrawingTouch(e) {
            e.preventDefault(); // Evitar el desplazamiento de la pÃ¡gina
            var touch = e.touches[0];
            var canvasPos = getCanvasPosition();
            startDrawing({
                offsetX: touch.clientX - canvasPos.offsetX,
                offsetY: touch.clientY - canvasPos.offsetY
            });
        }
    
        function stopDrawing() {
            drawing = false;
            ctx.beginPath();
        }
    
        function stopDrawingTouch(e) {
            e.preventDefault(); // Evitar el desplazamiento de la pÃ¡gina
            if (e.touches.length === 0) { // Solo detener si no hay mÃ¡s toques
                stopDrawing();
            }
        }
    
        function draw(e) {
            if (!drawing) return;
            var x = e.offsetX;
            var y = e.offsetY;
            ctx.lineWidth = 2;
            ctx.lineCap = "round";
            ctx.strokeStyle = "black";
            ctx.lineTo(x, y);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x, y);
        }
    
        function drawTouch(e) {
            e.preventDefault(); // Evitar el desplazamiento de la pÃ¡gina
            var touch = e.touches[0];
            var canvasPos = getCanvasPosition();
            draw({
                offsetX: touch.clientX - canvasPos.offsetX,
                offsetY: touch.clientY - canvasPos.offsetY
            });
        }
    
        // Borrar el canvas solo cuando se hace clic en el botÃ³n "XÃ³a chá»¯ kÃ½"
        document.getElementById("clearButton").addEventListener("click", function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            savedCanvasData = null; // Limpiar los datos guardados
        });
    
        document.getElementById("submit").addEventListener("click", function () {
      
            var apartmentCode = document.getElementById("apartmentCode").value;
            var owner = document.getElementById("owner").value;
            var representative = document.getElementById("representative").value;
            var phone = document.getElementById("phone").value;
            var signatureUrl = canvas.toDataURL("image/png");


            if (apartamentosRegistrados.includes(apartmentCode)) {
        alert("âš ï¸ MÃ£ cÄƒn há»™ nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½. Vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i qua Zalo hoáº·c email.");
        event.preventDefault(); // Evitar envÃ­o
        return;
    }


        // âš ï¸ Validar si el canvas estÃ¡ vacÃ­o
        function isCanvasEmpty(canvas) {
        var blankCanvas = document.createElement("canvas");
        blankCanvas.width = canvas.width;
        blankCanvas.height = canvas.height;
        return canvas.toDataURL() === blankCanvas.toDataURL();
    }

    if (isCanvasEmpty(canvas)) {
        alert("âš ï¸ Báº¡n pháº£i kÃ½ trÆ°á»›c khi gá»­i biá»ƒu máº«u.");
        return; // No continuar si la firma estÃ¡ vacÃ­a
    }


    // Lista de campos obligatorios (excepto el optativo)
    var requiredFields = { apartmentCode, owner, phone };

    // Verificar si algÃºn campo obligatorio estÃ¡ vacÃ­o
    for (let field in requiredFields) {
        if (!requiredFields[field]) {
            alert("âš ï¸ Vui lÃ²ng Ä‘iá»n Ä‘áº§y Ä‘á»§ táº¥t cáº£ cÃ¡c trÆ°á»ng báº¯t buá»™c trÆ°á»›c khi gá»­i.");
            return; // No continuar si hay un campo vacÃ­o
        }
    }

// ğŸ”„ **ACTUALIZAR LISTA DE APARTAMENTOS ANTES DE ENVIAR**
fetch("https://script.google.com/macros/s/AKfycbwLHbrh3_H1Eb28RRxyHS8dWOd5qGAUHhMDvS_ZP2GXKf7JW_4eBz4gCW-_nD1zX96h/exec")
    .then(response => response.json())
    .then(data => {
        console.log("Datos recibidos:", data);

        // Normaliza los cÃ³digos a mayÃºsculas y sin espacios
        let apartamentosActualizados = data.map(codigo => codigo?.toString().trim().toUpperCase());
        console.log("CÃ³digos de apartamentos:", apartamentosActualizados);

        // Normaliza el cÃ³digo ingresado tambiÃ©n
        let codigoNormalizado = apartmentCode?.trim().toUpperCase();
        console.log("CÃ³digo ingresado normalizado:", codigoNormalizado);

        // âŒ **Verificar nuevamente si el cÃ³digo ya fue registrado**
        if (apartamentosActualizados.includes(codigoNormalizado)) {
            alert("âš ï¸ MÃ£ cÄƒn há»™ nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½. Vui lÃ²ng liÃªn há»‡ vá»›i chÃºng tÃ´i qua Zalo hoáº·c email.");
            submitButton.disabled = false;
            return;
        }


            else{


    // Deshabilitar el botÃ³n para evitar envÃ­os mÃºltiples
    this.disabled = true;

    
            var formData = new FormData();
            formData.append("entry.294998651", apartmentCode);
            formData.append("entry.1056316806", owner);
            formData.append("entry.1210988443", representative);
            formData.append("entry.486555366", phone);
            formData.append("entry.619634509", signatureUrl);
            formData.append("entry.793849116", uuid);
    
            fetch("https://docs.google.com/forms/d/e/1FAIpQLSfCVp93vBWB10Pk3zb44QXwmsalXMynRA9S27r5luS4bamLOA/formResponse", {
                method: "POST",
                body: formData,
                mode: 'no-cors'
            }).then(() => {
                showModal(); // Mostrar el modal de agradecimiento
                document.querySelector(".form-container").reset();
            }).catch(() => {
                console.log("CÃ³ lá»—i xáº£y ra khi gá»­i biá»ƒu máº«u. Vui lÃ²ng thá»­ láº¡i.");
            });

        }


        });
    });
    
        // FunciÃ³n para mostrar el modal
        function showModal() {
            var modal = document.getElementById("thankYouModal");
            modal.style.display = "flex";
        }
    
        // FunciÃ³n para cerrar el modal, recargar la pÃ¡gina y llevarla hacia arriba
        function closeModal() {
            var modal = document.getElementById("thankYouModal");
            modal.style.display = "none";
            location.reload();  // Recarga la pÃ¡gina
            window.scrollTo(0, 0);  // Desplaza la pÃ¡gina hacia la parte superior
        }


 
    </script>
</body>
</html>
